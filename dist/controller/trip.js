"use strict";

var cov_n2zduacdm = function () {
  var path = "C:\\Users\\FinchglowGroup\\Desktop\\Andela\\way-farer\\server\\controller\\trip.js";
  var hash = "8f0980d298135b13cbc8e815d805fc06a2fd9b98";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "C:\\Users\\FinchglowGroup\\Desktop\\Andela\\way-farer\\server\\controller\\trip.js",
    statementMap: {
      "0": {
        start: {
          line: 22,
          column: 8
        },
        end: {
          line: 22,
          column: 16
        }
      },
      "1": {
        start: {
          line: 24,
          column: 19
        },
        end: {
          line: 24,
          column: 34
        }
      },
      "2": {
        start: {
          line: 26,
          column: 20
        },
        end: {
          line: 26,
          column: 69
        }
      },
      "3": {
        start: {
          line: 28,
          column: 4
        },
        end: {
          line: 33,
          column: 5
        }
      },
      "4": {
        start: {
          line: 29,
          column: 6
        },
        end: {
          line: 32,
          column: 9
        }
      },
      "5": {
        start: {
          line: 35,
          column: 26
        },
        end: {
          line: 35,
          column: 87
        }
      },
      "6": {
        start: {
          line: 37,
          column: 4
        },
        end: {
          line: 42,
          column: 5
        }
      },
      "7": {
        start: {
          line: 38,
          column: 6
        },
        end: {
          line: 41,
          column: 9
        }
      },
      "8": {
        start: {
          line: 44,
          column: 4
        },
        end: {
          line: 45,
          column: 116
        }
      },
      "9": {
        start: {
          line: 47,
          column: 20
        },
        end: {
          line: 47,
          column: 67
        }
      },
      "10": {
        start: {
          line: 49,
          column: 4
        },
        end: {
          line: 52,
          column: 7
        }
      },
      "11": {
        start: {
          line: 64,
          column: 23
        },
        end: {
          line: 64,
          column: 33
        }
      },
      "12": {
        start: {
          line: 66,
          column: 21
        },
        end: {
          line: 66,
          column: 72
        }
      },
      "13": {
        start: {
          line: 67,
          column: 4
        },
        end: {
          line: 72,
          column: 5
        }
      },
      "14": {
        start: {
          line: 68,
          column: 6
        },
        end: {
          line: 71,
          column: 9
        }
      },
      "15": {
        start: {
          line: 74,
          column: 22
        },
        end: {
          line: 74,
          column: 42
        }
      },
      "16": {
        start: {
          line: 75,
          column: 21
        },
        end: {
          line: 75,
          column: 67
        }
      },
      "17": {
        start: {
          line: 77,
          column: 4
        },
        end: {
          line: 82,
          column: 5
        }
      },
      "18": {
        start: {
          line: 78,
          column: 6
        },
        end: {
          line: 81,
          column: 9
        }
      },
      "19": {
        start: {
          line: 84,
          column: 23
        },
        end: {
          line: 84,
          column: 122
        }
      },
      "20": {
        start: {
          line: 86,
          column: 4
        },
        end: {
          line: 89,
          column: 7
        }
      },
      "21": {
        start: {
          line: 101,
          column: 18
        },
        end: {
          line: 101,
          column: 60
        }
      },
      "22": {
        start: {
          line: 103,
          column: 4
        },
        end: {
          line: 108,
          column: 5
        }
      },
      "23": {
        start: {
          line: 104,
          column: 6
        },
        end: {
          line: 107,
          column: 9
        }
      },
      "24": {
        start: {
          line: 110,
          column: 4
        },
        end: {
          line: 113,
          column: 7
        }
      },
      "25": {
        start: {
          line: 124,
          column: 36
        },
        end: {
          line: 124,
          column: 45
        }
      },
      "26": {
        start: {
          line: 126,
          column: 4
        },
        end: {
          line: 132,
          column: 5
        }
      },
      "27": {
        start: {
          line: 127,
          column: 6
        },
        end: {
          line: 127,
          column: 43
        }
      },
      "28": {
        start: {
          line: 128,
          column: 11
        },
        end: {
          line: 132,
          column: 5
        }
      },
      "29": {
        start: {
          line: 129,
          column: 6
        },
        end: {
          line: 129,
          column: 64
        }
      },
      "30": {
        start: {
          line: 130,
          column: 11
        },
        end: {
          line: 132,
          column: 5
        }
      },
      "31": {
        start: {
          line: 131,
          column: 6
        },
        end: {
          line: 131,
          column: 54
        }
      },
      "32": {
        start: {
          line: 134,
          column: 18
        },
        end: {
          line: 134,
          column: 81
        }
      },
      "33": {
        start: {
          line: 136,
          column: 4
        },
        end: {
          line: 141,
          column: 5
        }
      },
      "34": {
        start: {
          line: 137,
          column: 6
        },
        end: {
          line: 140,
          column: 9
        }
      },
      "35": {
        start: {
          line: 143,
          column: 4
        },
        end: {
          line: 146,
          column: 7
        }
      },
      "36": {
        start: {
          line: 157,
          column: 18
        },
        end: {
          line: 157,
          column: 76
        }
      },
      "37": {
        start: {
          line: 159,
          column: 4
        },
        end: {
          line: 164,
          column: 5
        }
      },
      "38": {
        start: {
          line: 160,
          column: 6
        },
        end: {
          line: 163,
          column: 9
        }
      },
      "39": {
        start: {
          line: 166,
          column: 4
        },
        end: {
          line: 169,
          column: 7
        }
      },
      "40": {
        start: {
          line: 180,
          column: 18
        },
        end: {
          line: 180,
          column: 86
        }
      },
      "41": {
        start: {
          line: 182,
          column: 4
        },
        end: {
          line: 187,
          column: 5
        }
      },
      "42": {
        start: {
          line: 183,
          column: 6
        },
        end: {
          line: 186,
          column: 9
        }
      },
      "43": {
        start: {
          line: 189,
          column: 4
        },
        end: {
          line: 192,
          column: 7
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 19,
            column: 2
          },
          end: {
            line: 19,
            column: 3
          }
        },
        loc: {
          start: {
            line: 19,
            column: 33
          },
          end: {
            line: 53,
            column: 3
          }
        },
        line: 19
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 63,
            column: 2
          },
          end: {
            line: 63,
            column: 3
          }
        },
        loc: {
          start: {
            line: 63,
            column: 36
          },
          end: {
            line: 90,
            column: 3
          }
        },
        line: 63
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 100,
            column: 2
          },
          end: {
            line: 100,
            column: 3
          }
        },
        loc: {
          start: {
            line: 100,
            column: 37
          },
          end: {
            line: 114,
            column: 3
          }
        },
        line: 100
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 123,
            column: 2
          },
          end: {
            line: 123,
            column: 3
          }
        },
        loc: {
          start: {
            line: 123,
            column: 37
          },
          end: {
            line: 147,
            column: 3
          }
        },
        line: 123
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 156,
            column: 2
          },
          end: {
            line: 156,
            column: 3
          }
        },
        loc: {
          start: {
            line: 156,
            column: 48
          },
          end: {
            line: 170,
            column: 3
          }
        },
        line: 156
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 179,
            column: 2
          },
          end: {
            line: 179,
            column: 3
          }
        },
        loc: {
          start: {
            line: 179,
            column: 58
          },
          end: {
            line: 193,
            column: 3
          }
        },
        line: 179
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 28,
            column: 4
          },
          end: {
            line: 33,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 28,
            column: 4
          },
          end: {
            line: 33,
            column: 5
          }
        }, {
          start: {
            line: 28,
            column: 4
          },
          end: {
            line: 33,
            column: 5
          }
        }],
        line: 28
      },
      "1": {
        loc: {
          start: {
            line: 37,
            column: 4
          },
          end: {
            line: 42,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 37,
            column: 4
          },
          end: {
            line: 42,
            column: 5
          }
        }, {
          start: {
            line: 37,
            column: 4
          },
          end: {
            line: 42,
            column: 5
          }
        }],
        line: 37
      },
      "2": {
        loc: {
          start: {
            line: 67,
            column: 4
          },
          end: {
            line: 72,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 67,
            column: 4
          },
          end: {
            line: 72,
            column: 5
          }
        }, {
          start: {
            line: 67,
            column: 4
          },
          end: {
            line: 72,
            column: 5
          }
        }],
        line: 67
      },
      "3": {
        loc: {
          start: {
            line: 77,
            column: 4
          },
          end: {
            line: 82,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 77,
            column: 4
          },
          end: {
            line: 82,
            column: 5
          }
        }, {
          start: {
            line: 77,
            column: 4
          },
          end: {
            line: 82,
            column: 5
          }
        }],
        line: 77
      },
      "4": {
        loc: {
          start: {
            line: 77,
            column: 8
          },
          end: {
            line: 77,
            column: 61
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 77,
            column: 8
          },
          end: {
            line: 77,
            column: 29
          }
        }, {
          start: {
            line: 77,
            column: 33
          },
          end: {
            line: 77,
            column: 61
          }
        }],
        line: 77
      },
      "5": {
        loc: {
          start: {
            line: 103,
            column: 4
          },
          end: {
            line: 108,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 103,
            column: 4
          },
          end: {
            line: 108,
            column: 5
          }
        }, {
          start: {
            line: 103,
            column: 4
          },
          end: {
            line: 108,
            column: 5
          }
        }],
        line: 103
      },
      "6": {
        loc: {
          start: {
            line: 126,
            column: 4
          },
          end: {
            line: 132,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 126,
            column: 4
          },
          end: {
            line: 132,
            column: 5
          }
        }, {
          start: {
            line: 126,
            column: 4
          },
          end: {
            line: 132,
            column: 5
          }
        }],
        line: 126
      },
      "7": {
        loc: {
          start: {
            line: 126,
            column: 8
          },
          end: {
            line: 126,
            column: 31
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 126,
            column: 8
          },
          end: {
            line: 126,
            column: 15
          }
        }, {
          start: {
            line: 126,
            column: 19
          },
          end: {
            line: 126,
            column: 31
          }
        }],
        line: 126
      },
      "8": {
        loc: {
          start: {
            line: 128,
            column: 11
          },
          end: {
            line: 132,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 128,
            column: 11
          },
          end: {
            line: 132,
            column: 5
          }
        }, {
          start: {
            line: 128,
            column: 11
          },
          end: {
            line: 132,
            column: 5
          }
        }],
        line: 128
      },
      "9": {
        loc: {
          start: {
            line: 128,
            column: 15
          },
          end: {
            line: 128,
            column: 37
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 128,
            column: 15
          },
          end: {
            line: 128,
            column: 22
          }
        }, {
          start: {
            line: 128,
            column: 26
          },
          end: {
            line: 128,
            column: 37
          }
        }],
        line: 128
      },
      "10": {
        loc: {
          start: {
            line: 130,
            column: 11
          },
          end: {
            line: 132,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 130,
            column: 11
          },
          end: {
            line: 132,
            column: 5
          }
        }, {
          start: {
            line: 130,
            column: 11
          },
          end: {
            line: 132,
            column: 5
          }
        }],
        line: 130
      },
      "11": {
        loc: {
          start: {
            line: 130,
            column: 15
          },
          end: {
            line: 130,
            column: 37
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 130,
            column: 15
          },
          end: {
            line: 130,
            column: 21
          }
        }, {
          start: {
            line: 130,
            column: 25
          },
          end: {
            line: 130,
            column: 37
          }
        }],
        line: 130
      },
      "12": {
        loc: {
          start: {
            line: 136,
            column: 4
          },
          end: {
            line: 141,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 136,
            column: 4
          },
          end: {
            line: 141,
            column: 5
          }
        }, {
          start: {
            line: 136,
            column: 4
          },
          end: {
            line: 141,
            column: 5
          }
        }],
        line: 136
      },
      "13": {
        loc: {
          start: {
            line: 159,
            column: 4
          },
          end: {
            line: 164,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 159,
            column: 4
          },
          end: {
            line: 164,
            column: 5
          }
        }, {
          start: {
            line: 159,
            column: 4
          },
          end: {
            line: 164,
            column: 5
          }
        }],
        line: 159
      },
      "14": {
        loc: {
          start: {
            line: 182,
            column: 4
          },
          end: {
            line: 187,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 182,
            column: 4
          },
          end: {
            line: 187,
            column: 5
          }
        }, {
          start: {
            line: 182,
            column: 4
          },
          end: {
            line: 187,
            column: 5
          }
        }],
        line: 182
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0]
    },
    _coverageSchema: "43e27e138ebf9cfc5966b082cf9a028302ed4184",
    hash: "8f0980d298135b13cbc8e815d805fc06a2fd9b98"
  };
  var coverage = global[gcv] || (global[gcv] = {});

  if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }

  return coverage[path] = coverageData;
}();

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _db = _interopRequireDefault(require("../model/db"));

var _moment = _interopRequireDefault(require("../utils/moment"));

var _query = _interopRequireDefault(require("../helper/query"));

var _guid = _interopRequireDefault(require("../utils/guid"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @exports
 * @class TripController
 */
class TripController {
  /**
   * Add a new Trip to the database
   * @method addTrip
   * @memberof TripController
   * @param  {object} req - Request object
   * @param {object} res - Response object
   * @return {json} res.json
   */
  static async addTrip(req, res) {
    cov_n2zduacdm.f[0]++;
    const {
      busId,
      origin,
      destination,
      tripDate,
      tripTime,
      fare
    } = (cov_n2zduacdm.s[0]++, req.body);
    const tripId = (cov_n2zduacdm.s[1]++, _guid.default.formGuid());
    const findBus = (cov_n2zduacdm.s[2]++, await _db.default.query(_query.default.getBusById, [busId]));
    cov_n2zduacdm.s[3]++;

    if (findBus.rowCount < 1) {
      cov_n2zduacdm.b[0][0]++;
      cov_n2zduacdm.s[4]++;
      return res.status(404).json({
        status: 'error',
        error: 'Selected bus does not exist'
      });
    } else {
      cov_n2zduacdm.b[0][1]++;
    }

    const findActiveBus = (cov_n2zduacdm.s[5]++, await _db.default.query(_query.default.getActiveBus, [busId, 'Active']));
    cov_n2zduacdm.s[6]++;

    if (findActiveBus.rowCount >= 1) {
      cov_n2zduacdm.b[1][0]++;
      cov_n2zduacdm.s[7]++;
      return res.status(409).json({
        status: 'error',
        error: 'A trip with this bus is active'
      });
    } else {
      cov_n2zduacdm.b[1][1]++;
    }

    cov_n2zduacdm.s[8]++;
    await _db.default.query(_query.default.addTrip, [tripId, req.user.user_id, busId, origin, destination, tripDate, tripTime, fare, 'Active', _moment.default.createdAt]);
    const newTrip = (cov_n2zduacdm.s[9]++, await _db.default.query(_query.default.getTrip, [tripId]));
    cov_n2zduacdm.s[10]++;
    return res.status(201).json({
      status: 'success',
      data: newTrip.rows[0]
    });
  }
  /**
   * Admin cancel trip
   * @staticmethod
   * @method cancelTrip
   * @param  {object} req - Request object
   * @param {object} res - Response object
   * @return {json} res.json
   */


  static async cancelTrip(req, res) {
    cov_n2zduacdm.f[1]++;
    const {
      tripId
    } = (cov_n2zduacdm.s[11]++, req.params);
    const findTrip = (cov_n2zduacdm.s[12]++, await _db.default.query(_query.default.getTripById, [tripId]));
    cov_n2zduacdm.s[13]++;

    if (findTrip.rowCount < 1) {
      cov_n2zduacdm.b[2][0]++;
      cov_n2zduacdm.s[14]++;
      return res.status(404).json({
        status: 'error',
        error: 'Trip does not exist'
      });
    } else {
      cov_n2zduacdm.b[2][1]++;
    }

    const todaydate = (cov_n2zduacdm.s[15]++, new Date().getTime());
    const tripDate = (cov_n2zduacdm.s[16]++, new Date(findTrip.rows[0].trip_date).getTime());
    cov_n2zduacdm.s[17]++;

    if ((cov_n2zduacdm.b[4][0]++, tripDate <= todaydate) || (cov_n2zduacdm.b[4][1]++, findTrip.rows[0] === 'Ended')) {
      cov_n2zduacdm.b[3][0]++;
      cov_n2zduacdm.s[18]++;
      return res.status(400).json({
        status: 'error',
        error: 'Trip cannot be cancelled'
      });
    } else {
      cov_n2zduacdm.b[3][1]++;
    }

    const cancelTrip = (cov_n2zduacdm.s[19]++, await _db.default.query(_query.default.cancelTrip, ['Cancelled', _moment.default.updatedAt, findTrip.rows[0].trip_id]));
    cov_n2zduacdm.s[20]++;
    return res.status(200).json({
      status: 'success',
      data: cancelTrip.rows[0]
    });
  }
  /**
   * Fetch all trips
   * @staticmethod
   * @param  {object} req - Request object
   * @param {object} res - Response object
   * @param {function} next - middleware next (for error handling)
   * @return {json} res.json
   */


  static async getAllTrips(req, res) {
    cov_n2zduacdm.f[2]++;
    const trips = (cov_n2zduacdm.s[21]++, await _db.default.query(_query.default.allTrips, []));
    cov_n2zduacdm.s[22]++;

    if (trips.rowCount <= 0) {
      cov_n2zduacdm.b[5][0]++;
      cov_n2zduacdm.s[23]++;
      return res.status(404).json({
        status: 'error',
        error: 'There are no trips'
      });
    } else {
      cov_n2zduacdm.b[5][1]++;
    }

    cov_n2zduacdm.s[24]++;
    return res.status(200).json({
      status: 'success',
      data: trips.rows
    });
  }
  /**
   * Search for trips
   * @staticmethod
   * @param  {object} req - Request object
   * @param {object} res - Response object
   * @return {json} res.json
   */


  static async searchTrips(req, res) {
    cov_n2zduacdm.f[3]++;
    const {
      origin,
      destination
    } = (cov_n2zduacdm.s[25]++, req.query);
    cov_n2zduacdm.s[26]++;

    if ((cov_n2zduacdm.b[7][0]++, !origin) && (cov_n2zduacdm.b[7][1]++, !destination)) {
      cov_n2zduacdm.b[6][0]++;
      cov_n2zduacdm.s[27]++;
      TripController.getAllTrips(req, res);
    } else {
      cov_n2zduacdm.b[6][1]++;
      cov_n2zduacdm.s[28]++;

      if ((cov_n2zduacdm.b[9][0]++, !origin) && (cov_n2zduacdm.b[9][1]++, destination)) {
        cov_n2zduacdm.b[8][0]++;
        cov_n2zduacdm.s[29]++;
        TripController.searchTripsByDestination(destination, res);
      } else {
        cov_n2zduacdm.b[8][1]++;
        cov_n2zduacdm.s[30]++;

        if ((cov_n2zduacdm.b[11][0]++, origin) && (cov_n2zduacdm.b[11][1]++, !destination)) {
          cov_n2zduacdm.b[10][0]++;
          cov_n2zduacdm.s[31]++;
          TripController.searchTripsByOrigin(origin, res);
        } else {
          cov_n2zduacdm.b[10][1]++;
        }
      }
    }

    const trips = (cov_n2zduacdm.s[32]++, await _db.default.query(_query.default.searchTrip, [origin, destination]));
    cov_n2zduacdm.s[33]++;

    if (trips.rowCount <= 0) {
      cov_n2zduacdm.b[12][0]++;
      cov_n2zduacdm.s[34]++;
      return res.status(404).json({
        status: 'error',
        error: 'There are no trips'
      });
    } else {
      cov_n2zduacdm.b[12][1]++;
    }

    cov_n2zduacdm.s[35]++;
    return res.status(200).json({
      status: 'success',
      data: trips.rows
    });
  }
  /**
   * Search for trips by origin
   * @staticmethod
   * @param  {object} req - Request object
   * @param {object} res - Response object
   * @return {json} res.json
   */


  static async searchTripsByOrigin(origin, res) {
    cov_n2zduacdm.f[4]++;
    const trips = (cov_n2zduacdm.s[36]++, await _db.default.query(_query.default.searchTripByOrigin, [origin]));
    cov_n2zduacdm.s[37]++;

    if (trips.rowCount <= 0) {
      cov_n2zduacdm.b[13][0]++;
      cov_n2zduacdm.s[38]++;
      return res.status(404).json({
        status: 'error',
        error: 'There are no trips'
      });
    } else {
      cov_n2zduacdm.b[13][1]++;
    }

    cov_n2zduacdm.s[39]++;
    return res.status(200).json({
      status: 'success',
      data: trips.rows
    });
  }
  /**
   * Search for trips by origin
   * @staticmethod
   * @param  {object} req - Request object
   * @param {object} res - Response object
   * @return {json} res.json
   */


  static async searchTripsByDestination(destination, res) {
    cov_n2zduacdm.f[5]++;
    const trips = (cov_n2zduacdm.s[40]++, await _db.default.query(_query.default.searchTripByDestination, [destination]));
    cov_n2zduacdm.s[41]++;

    if (trips.rowCount <= 0) {
      cov_n2zduacdm.b[14][0]++;
      cov_n2zduacdm.s[42]++;
      return res.status(404).json({
        status: 'error',
        error: 'There are no trips'
      });
    } else {
      cov_n2zduacdm.b[14][1]++;
    }

    cov_n2zduacdm.s[43]++;
    return res.status(200).json({
      status: 'success',
      data: trips.rows
    });
  }

}

var _default = TripController;
exports.default = _default;